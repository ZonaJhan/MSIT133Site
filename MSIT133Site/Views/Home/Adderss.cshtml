
@{
    ViewData["Title"] = "Adderss";
}

<h1>Adderss</h1>
<select id="selectCity">
    @*<option value="1">Item1</option>
    <option value="2">Item2</option>
    <option value="3">Item3</option>
    <option value="4">Item4</option>
    <option value="5">Item5</option>*@
</select>
@section Scripts{
<script>
    const selCity = document.querySelector("#selectCity");
    selCity.addEventListener("change", () => {
        console.log(selCity.options[selCity.selectedIndex].value)
    })
    const xml = new XMLHttpRequest();
    xml.addEventListener("load", () => {
        const datas =JSON.parse(xml.responseText);
        //console.log(datas);
        //step 4 get JSON data
        datas.forEach((item) => {
            console.log(item.city);
            //step 5 show the data
            const opt = new Option(item.city, item.city);
            selCity.options.add(opt);
        })
        
    })
    xml.open("get", "@Url.Content("~/api/city")");
    xml.send();
</script>
 }
